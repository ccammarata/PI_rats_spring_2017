library(foreign)
#general motif for reading in and cleaning data, although these files will already have had the
#column with tag text removed
data1 <- read.csv("24hr_09_21_16_1&2.csv", header=FALSE)
len <- length(data1[,1])
data1 <- data1[8:len,]
len <- length(data1[,1])
data1 <- data1*-1
colnames(data1) <- c("tags","enz_chan1","sent_chan2","nothing_1","nothing_2")
data1$seconds <- seq(0,((len-1)/2),0.5)
#plotting
# x= max(data1[2:5])
# plot(data1$seconds,data1$chan1, ylim=c(0,x), type = 'l')
# lines(data1$chan2)
# lines(data1$chan3)
# lines(data1$chan4)
for (channel in c(2,3)){
plot(data1$seconds,data1[,channel],type = 'l',xlab= 'seconds', ylab = names(data1[channel]),
main ='24hr_09_21_16_1&2')
}
data2 <- read.csv("24hr_09_21_16_3&4.csv", header=FALSE)
len <- length(data2[,1])
data2 <- data2[8:len,]
len <- length(data2[,1])
data2 <- data2*-1
colnames(data2) <- c("tags","sent_chan1","enz_chan2","sent_chan3","enz_chan4")
data2$seconds <- seq(0,((len-1)/2),0.5)
#plotting
for (channel in c(2,3,4,5)){
plot(data2$seconds,data2[,channel],type = 'l',xlab= 'seconds', ylab = names(data2[channel]),
main ='24hr_09_21_16_3&4')
}
data3 <- read.csv("9_22_16_5.6_48hrs.csv", header=FALSE)
len <- length(data3[,1])
data3 <- data3[8:len,]
len <- length(data3[,1])
data3 <- data3*-1
colnames(data3) <- c("tags","sent_chan1","enz_chan2","sent_chan3","enz_chan4")
data3$seconds <- seq(0,((len-1)/2),0.5)
#plotting
for (channel in c(2,3,4,5)){
plot(data3$seconds,data3[,channel],type = 'l',xlab= 'seconds', ylab = names(data3[channel]),
main ='9_22_16_5.6_48hrs')
}
data4 <- read.csv("9_22_16_3.4_24hrs.csv", header=FALSE)
len <- length(data4[,1])
data4 <- data4[8:len,]
len <- length(data4[,1])
data4 <- data4*-1
colnames(data4) <- c("tags","sent_chan1","enz_chan2","sent_chan3","enz_chan4")
data4$seconds <- seq(0,((len-1)/2),0.5)
#plotting
for (channel in c(2,3,4,5)){
plot(data4$seconds,data4[,channel],type = 'l',xlab= 'seconds', ylab = names(data4[channel]),
main ='9_22_16_3.4_24hrs')
}
data5 <- read.csv("9_22_16_1.2_24hrs.csv", header=FALSE)
len <- length(data5[,1])
data5 <- data5[8:len,]
len <- length(data5[,1])
data5 <- data5*-1
colnames(data5) <- c("tags","sent_chan1","enz_chan2","sent_chan3","enz_chan4")
data5$seconds <- seq(0,((len-1)/2),0.5)
#plotting
for (channel in c(2,3,4,5)){
plot(data5$seconds,data5[,channel],type = 'l',xlab= 'seconds', ylab = names(data5[channel]),
main ='9_22_16_1.2_24hrs')
}
library(foreign)
#general motif for reading in and cleaning data, although these files will already have had the
#column with tag text removed
data1 <- read.csv("24hr_09_21_16_1&2.csv", header=FALSE)
len <- length(data1[,1])
data1 <- data1[8:len,]
len <- length(data1[,1])
data1 <- data1*-1
colnames(data1) <- c("tags","enz_chan1","sent_chan2","nothing_1","nothing_2")
data1$seconds <- seq(0,((len-1)/2),0.5)
#plotting
# x= max(data1[2:5])
# plot(data1$seconds,data1$chan1, ylim=c(0,x), type = 'l')
# lines(data1$chan2)
# lines(data1$chan3)
# lines(data1$chan4)
for (channel in c(2,3)){
plot(data1$seconds,data1[,channel],type = 'l',xlab= 'seconds', ylab = names(data1[channel]),
main ='24hr_09_21_16_1&2')
}
data2 <- read.csv("24hr_09_21_16_3&4.csv", header=FALSE)
len <- length(data2[,1])
data2 <- data2[8:len,]
len <- length(data2[,1])
data2 <- data2*-1
colnames(data2) <- c("tags","sent_chan1","enz_chan2","sent_chan3","enz_chan4")
data2$seconds <- seq(0,((len-1)/2),0.5)
#plotting
for (channel in c(2,3,4,5)){
plot(data2$seconds,data2[,channel],type = 'l',xlab= 'seconds', ylab = names(data2[channel]),
main ='24hr_09_21_16_3&4')
}
data3 <- read.csv("9_22_16_5.6_48hrs.csv", header=FALSE)
len <- length(data3[,1])
data3 <- data3[8:len,]
len <- length(data3[,1])
data3 <- data3*-1
colnames(data3) <- c("tags","sent_chan1","enz_chan2","sent_chan3","enz_chan4")
data3$seconds <- seq(0,((len-1)/2),0.5)
#plotting
for (channel in c(2,3,4,5)){
plot(data3$seconds,data3[,channel],type = 'l',xlab= 'seconds', ylab = names(data3[channel]),
main ='9_22_16_5.6_48hrs')
}
data4 <- read.csv("9_22_16_3.4_24hrs.csv", header=FALSE)
len <- length(data4[,1])
data4 <- data4[8:len,]
len <- length(data4[,1])
data4 <- data4*-1
colnames(data4) <- c("tags","sent_chan1","enz_chan2","sent_chan3","enz_chan4")
data4$seconds <- seq(0,((len-1)/2),0.5)
#plotting
for (channel in c(2,3,4,5)){
plot(data4$seconds,data4[,channel],type = 'l',xlab= 'seconds', ylab = names(data4[channel]),
main ='9_22_16_3.4_24hrs')
}
data5 <- read.csv("9_22_16_1.2_24hrs.csv", header=FALSE)
len <- length(data5[,1])
data5 <- data5[8:len,]
len <- length(data5[,1])
data5 <- data5*-1
colnames(data5) <- c("tags","sent_chan1","enz_chan2","sent_chan3","enz_chan4")
data5$seconds <- seq(0,((len-1)/2),0.5)
#plotting
for (channel in c(2,3,4,5)){
plot(data5$seconds,data5[,channel],type = 'l',xlab= 'seconds', ylab = names(data5[channel]),
main ='9_22_16_1.2_24hrs')
}
#column with tag text removed
data1 <- read.csv("24hr_09_21_16_1&2.csv", header=FALSE)
len <- length(data1[,1])
data1 <- data1[8:len,]
len <- length(data1[,1])
data1 <- data1*-1
colnames(data1) <- c("tags","enz_chan1","sent_chan2","nothing_1","nothing_2")
data1$seconds <- seq(0,((len-1)/2),0.5)
#plotting
# x= max(data1[2:5])
# plot(data1$seconds,data1$chan1, ylim=c(0,x), type = 'l')
# lines(data1$chan2)
# lines(data1$chan3)
# lines(data1$chan4)
for (channel in c(2,3)){
plot(data1$seconds,data1[,channel],type = 'l',xlab= 'seconds', ylab = names(data1[channel]),
main ='24hr_09_21_16_1&2')
}
data1 <- read.csv("24hr_09_21_16_1&2.csv", header=FALSE)
library(afex)
library(Rcpp)
install.packages("Rcpp")
install.packages("loo")
setwd("~/GitHub/PI_rats_spring_2017/attempts_data")
#list rat number here
ratList <- 101:112
#make a data frame for the AB acquisition days
sessList <- list(45,46,47,48,49,50, 51)#list session nubmers here
x <- length(sessList)
y <- length(ratList)
rowsNeeded <- (x*y)
#making an empty matrix
data1 <- matrix(data = NA, nrow = rowsNeeded, ncol=5)
colnames(data1)<- c('ratID', 'session', 'firstAttempt','meanAttempts','medianAttempts')
i = 1
for (sessNum in sessList){
for (rat in ratList) {
filename <- paste("U2_unlimi_",rat,"_",sessNum,".csv", sep="")
if(file.exists(filename)){
print(filename)
currentData <- read.csv(filename, header=TRUE, sep="\t")
currentData$resp2 <- ifelse(currentData$Attempts == "1", 1,0)
firstAttempts <- mean(currentData$resp2)
totalAttmpts <- mean(currentData$Attempts)
MedianAttmpts <- median(currentData$Attempts)
data1[i,0:5] <- c(rat, sessNum, firstAttempts,totalAttmpts,MedianAttmpts)}
i=i+1
}
}
#making the matrix into a data frame and adding lesion condition
data1 <- data.frame(data1) #making it into a data frame
data1$ratID <- factor(data1$ratID) #making rat number a factor
means <- aggregate(data1$firstAttempt, by=list(data1$session), FUN='mean')
SDs<-aggregate(data1$firstAttempt, by=list(data1$session), FUN='sd')
data2<-as.data.frame(means)
View(data2)
colnames(data2)[1]
colnames(data2)[1] <- "session"
colnames(data2)[2] <- "mean"
data2$SD <- SDs$x
View(data2)
write.csv(data2, file="Mean_first_Attempts")
write.csv(data2, file="Mean_first_Attempts.csv")
View(currentData)
View(data1)
#list rat number here
ratList <- 101:112
#make a data frame for the AB acquisition days
sessList <- list(45,46,47,48,49,50, 51,52)#list session nubmers here
x <- length(sessList)
y <- length(ratList)
rowsNeeded <- (x*y)
#making an empty matrix
data1 <- matrix(data = NA, nrow = rowsNeeded, ncol=5)
colnames(data1)<- c('ratID', 'session', 'firstAttempt','meanAttempts','medianAttempts')
i = 1
for (sessNum in sessList){
for (rat in ratList) {
filename <- paste("U2_unlimi_",rat,"_",sessNum,".csv", sep="")
if(file.exists(filename)){
print(filename)
currentData <- read.csv(filename, header=TRUE, sep="\t")
currentData$resp2 <- ifelse(currentData$Attempts == "1", 1,0)
firstAttempts <- mean(currentData$resp2)
totalAttmpts <- mean(currentData$Attempts)
MedianAttmpts <- median(currentData$Attempts)
data1[i,0:5] <- c(rat, sessNum, firstAttempts,totalAttmpts,MedianAttmpts)}
i=i+1
}
}
#making the matrix into a data frame and adding lesion condition
data1 <- data.frame(data1) #making it into a data frame
data1$ratID <- factor(data1$ratID) #making rat number a factor
firstAttempts <- aggregate(data1$firstAttempt, by=list(data1$session), FUN='mean')
SDs<-aggregate(data1$firstAttempt, by=list(data1$session), FUN='sd')
totalAttempts<- aggregate(data1$meanAttempts, by=list(data1$session), FUN='mean')
toal_SDs <- aggregate(data1$meanAttempts, by=list(data1$session), FUN='sd')
data2<-as.data.frame(firstAttempt)
colnames(data2)[1] <- "session"
colnames(data2)[2] <- "firstAttempts"
data2$firstAttempts_SD <- SDs$x
data2$totalAttempts <- totalAttempts$x
data2$totalAttempts_sD <- totalSDs$x
write.csv(data2, file="Mean_first_Attempts.csv")
aggregate(data1$medianAttempts, by=list(data1$session), FUN='mean')
aggregate(data1$medianAttempts, by=list(data1$session), FUN='sd')
write.csv(data1, file="Group_Attempt_Data.csv")
data2<-as.data.frame(firstAttempt)
firstAttempts <- aggregate(data1$firstAttempt, by=list(data1$session), FUN='mean')
SDs<-aggregate(data1$firstAttempt, by=list(data1$session), FUN='sd')
totalAttempts<- aggregate(data1$meanAttempts, by=list(data1$session), FUN='mean')
toal_SDs <- aggregate(data1$meanAttempts, by=list(data1$session), FUN='sd')
data2<-as.data.frame(firstAttempts)
colnames(data2)[1] <- "session"
colnames(data2)[2] <- "firstAttempts"
data2$firstAttempts_SD <- SDs$x
data2$totalAttempts <- totalAttempts$x
data2$totalAttempts_sD <- totalSDs$x
data2$totalAttempts_sD <- total_SDs$x
firstAttempts <- aggregate(data1$firstAttempt, by=list(data1$session), FUN='mean')
SDs<-aggregate(data1$firstAttempt, by=list(data1$session), FUN='sd')
totalAttempts<- aggregate(data1$meanAttempts, by=list(data1$session), FUN='mean')
total_SDs <- aggregate(data1$meanAttempts, by=list(data1$session), FUN='sd')
data2<-as.data.frame(firstAttempts)
colnames(data2)[1] <- "session"
colnames(data2)[2] <- "firstAttempts"
data2$firstAttempts_SD <- SDs$x
data2$totalAttempts <- totalAttempts$x
data2$totalAttempts_sD <- total_SDs$x
View(data2)
write.csv(data2, file="Mean_first_Attempts.csv")
write.csv(data2, file="Mean_first_Attempts.csv")
#list rat number here
ratList <- 101:112
#make a data frame for the AB acquisition days
sessList <- list(45,46,47,48,49,50, 51,52)#list session nubmers here
x <- length(sessList)
y <- length(ratList)
rowsNeeded <- (x*y)
#making an empty matrix
data1 <- matrix(data = NA, nrow = rowsNeeded, ncol=5)
colnames(data1)<- c('ratID', 'session', 'firstAttempt','meanAttempts','medianAttempts')
i = 1
for (sessNum in sessList){
for (rat in ratList) {
filename <- paste("U2_unlimi_",rat,"_",sessNum,".csv", sep="")
if(file.exists(filename)){
print(filename)
currentData <- read.csv(filename, header=TRUE, sep="\t")
currentData$resp2 <- ifelse(currentData$Attempts == "1", 1,0)
firstAttempts <- mean(currentData$resp2)
totalAttmpts <- mean(currentData$Attempts)
MedianAttmpts <- median(currentData$Attempts)
data1[i,0:5] <- c(rat, sessNum, firstAttempts,totalAttmpts,MedianAttmpts)}
i=i+1
}
}
#making the matrix into a data frame and adding lesion condition
data1 <- data.frame(data1) #making it into a data frame
data1$ratID <- factor(data1$ratID) #making rat number a factor
firstAttempts <- aggregate(data1$firstAttempt, by=list(data1$session), FUN='mean')
SDs<-aggregate(data1$firstAttempt, by=list(data1$session), FUN='sd')
totalAttempts<- aggregate(data1$meanAttempts, by=list(data1$session), FUN='mean')
total_SDs <- aggregate(data1$meanAttempts, by=list(data1$session), FUN='sd')
data2<-as.data.frame(firstAttempts)
colnames(data2)[1] <- "session"
colnames(data2)[2] <- "firstAttempts"
data2$firstAttempts_SD <- SDs$x
data2$totalAttempts <- totalAttempts$x
data2$totalAttempts_sD <- total_SDs$x
write.csv(data1, file="Group_Attempt_Data.csv")
write.csv(data2, file="Mean_first_Attempts.csv")
View(data2)
#list rat number here
ratList <- 101:112
#make a data frame for the AB acquisition days
sessList <- list(45,46,47,48,49,50, 51,52,54,53)#list session nubmers here
x <- length(sessList)
y <- length(ratList)
rowsNeeded <- (x*y)
#making an empty matrix
data1 <- matrix(data = NA, nrow = rowsNeeded, ncol=5)
colnames(data1)<- c('ratID', 'session', 'firstAttempt','meanAttempts','medianAttempts')
i = 1
for (sessNum in sessList){
for (rat in ratList) {
filename <- paste("U2_unlimi_",rat,"_",sessNum,".csv", sep="")
if(file.exists(filename)){
print(filename)
currentData <- read.csv(filename, header=TRUE, sep="\t")
currentData$resp2 <- ifelse(currentData$Attempts == "1", 1,0)
firstAttempts <- mean(currentData$resp2)
totalAttmpts <- mean(currentData$Attempts)
MedianAttmpts <- median(currentData$Attempts)
data1[i,0:5] <- c(rat, sessNum, firstAttempts,totalAttmpts,MedianAttmpts)}
i=i+1
}
}
#making the matrix into a data frame and adding lesion condition
data1 <- data.frame(data1) #making it into a data frame
data1$ratID <- factor(data1$ratID) #making rat number a factor
firstAttempts <- aggregate(data1$firstAttempt, by=list(data1$session), FUN='mean')
SDs<-aggregate(data1$firstAttempt, by=list(data1$session), FUN='sd')
totalAttempts<- aggregate(data1$meanAttempts, by=list(data1$session), FUN='mean')
total_SDs <- aggregate(data1$meanAttempts, by=list(data1$session), FUN='sd')
data2<-as.data.frame(firstAttempts)
colnames(data2)[1] <- "session"
colnames(data2)[2] <- "firstAttempts"
data2$firstAttempts_SD <- SDs$x
data2$totalAttempts <- totalAttempts$x
data2$totalAttempts_sD <- total_SDs$x
write.csv(data1, file="Group_Attempt_Data.csv")
write.csv(data2, file="Mean_first_Attempts.csv")
View(data1)
View(data2)
View(firstAttempts)
#list rat number here
ratList <- 101:112
#make a data frame for the AB acquisition days
sessList <- list(45,46,47,48,49,50, 51,52,54,53)#list session nubmers here
x <- length(sessList)
y <- length(ratList)
rowsNeeded <- (x*y)
#making an empty matrix
data1 <- matrix(data = NA, nrow = rowsNeeded, ncol=5)
colnames(data1)<- c('ratID', 'session', 'firstAttempt','meanAttempts','medianAttempts')
i = 1
for (sessNum in sessList){
for (rat in ratList) {
filename <- paste("U2_unlimi_",rat,"_",sessNum,".csv", sep="")
if(file.exists(filename)){
print(filename)
currentData <- read.csv(filename, header=TRUE, sep="\t")
currentData$resp2 <- ifelse(currentData$Attempts == "1", 1,0)
firstAttempts <- mean(currentData$resp2)
totalAttmpts <- mean(currentData$Attempts)
MedianAttmpts <- median(currentData$Attempts)
data1[i,0:5] <- c(rat, sessNum, firstAttempts,totalAttmpts,MedianAttmpts)}
i=i+1
}
}
#making the matrix into a data frame and adding lesion condition
data1 <- data.frame(data1) #making it into a data frame
data1$ratID <- factor(data1$ratID) #making rat number a factor
firstAttempts <- aggregate(data1$firstAttempt, by=list(data1$session), FUN='mean')
SDs<-aggregate(data1$firstAttempt, by=list(data1$session), FUN='sd')
totalAttempts<- aggregate(data1$meanAttempts, by=list(data1$session), FUN='mean')
total_SDs <- aggregate(data1$meanAttempts, by=list(data1$session), FUN='sd')
data2<-as.data.frame(firstAttempts)
colnames(data2)[1] <- "session"
colnames(data2)[2] <- "firstAttempts"
data2$firstAttempts_SD <- SDs$x
data2$totalAttempts <- totalAttempts$x
data2$totalAttempts_sD <- total_SDs$x
write.csv(data1, file="Group_Attempt_Data.csv")
write.csv(data2, file="Mean_first_Attempts.csv")
#list rat number here
ratList <- 101:112
#make a data frame for the AB acquisition days
sessList <- list(45,46,47,48,49,50, 51,52,54,53)#list session nubmers here
x <- length(sessList)
y <- length(ratList)
rowsNeeded <- (x*y)
#making an empty matrix
data1 <- matrix(data = NA, nrow = rowsNeeded, ncol=5)
colnames(data1)<- c('ratID', 'session', 'firstAttempt','meanAttempts','medianAttempts')
i = 1
for (sessNum in sessList){
for (rat in ratList) {
filename <- paste("U2_unlimi_",rat,"_",sessNum,".csv", sep="")
if(file.exists(filename)){
print(filename)
currentData <- read.csv(filename, header=TRUE, sep="\t")
currentData$resp2 <- ifelse(currentData$Attempts == "1", 1,0)
firstAttempts <- mean(currentData$resp2)
totalAttmpts <- mean(currentData$Attempts)
MedianAttmpts <- median(currentData$Attempts)
data1[i,0:5] <- c(rat, sessNum, firstAttempts,totalAttmpts,MedianAttmpts)}
i=i+1
}
}
#making the matrix into a data frame and adding lesion condition
data1 <- data.frame(data1) #making it into a data frame
data1$ratID <- factor(data1$ratID) #making rat number a factor
firstAttempts <- aggregate(data1$firstAttempt, by=list(data1$session), FUN='mean')
SDs<-aggregate(data1$firstAttempt, by=list(data1$session), FUN='sd')
totalAttempts<- aggregate(data1$meanAttempts, by=list(data1$session), FUN='mean')
total_SDs <- aggregate(data1$meanAttempts, by=list(data1$session), FUN='sd')
data2<-as.data.frame(firstAttempts)
colnames(data2)[1] <- "session"
colnames(data2)[2] <- "firstAttempts"
data2$firstAttempts_SD <- SDs$x
data2$totalAttempts <- totalAttempts$x
data2$totalAttempts_sD <- total_SDs$x
write.csv(data1, file="Group_Attempt_Data.csv")
write.csv(data2, file="Mean_first_Attempts.csv")
aggregate(data1$firstAttempt, by=list(data1$ratID), FUN='mean')
aggregate(data1$firstAttempt, by=list(data1$ratID,data1$session), FUN='mean')
aggregate(data1$firstAttempt, by=list(data1$session, data1$ratID), FUN='mean')
ratList <- 101:103,105:112
data3 <- subset(data1, ratID != '104')
aggregate(data3$firstAttempt, by=list(data3$session), FUN='mean')
?xtabs
xtabs(firstAttemp ~ session + ratID, data=data1)
xtabs(firstAttempt ~ session + ratID, data=data1)
table <- xtabs(firstAttempt ~ session + ratID, data=data1)
as.data.frame(table)
data3 <- subset(data1, ratID != list(105,109))
aggregate(data3$firstAttempt, by=list(data3$session),FUN='mean')
aggregate(data3$meanAttempts, by=list(data3$session),FUN='mean')
#list rat number here
ratList <- 101:112
#make a data frame for the AB acquisition days
sessList <- 55:57#list session nubmers here
x <- length(sessList)
y <- length(ratList)
rowsNeeded <- (x*y)
#making an empty matrix
data1 <- matrix(data = NA, nrow = rowsNeeded, ncol=5)
colnames(data1)<- c('ratID', 'session', 'firstAttempt','meanAttempts','medianAttempts')
i = 1
for (sessNum in sessList){
for (rat in ratList) {
filename <- paste("U2_unlimi_",rat,"_",sessNum,".csv", sep="")
if(file.exists(filename)){
print(filename)
currentData <- read.csv(filename, header=TRUE, sep="\t")
currentData$resp2 <- ifelse(currentData$Attempts == "1", 1,0)
firstAttempts <- mean(currentData$resp2)
totalAttmpts <- mean(currentData$Attempts)
MedianAttmpts <- median(currentData$Attempts)
data1[i,0:5] <- c(rat, sessNum, firstAttempts,totalAttmpts,MedianAttmpts)}
i=i+1
}
}
#making the matrix into a data frame and adding lesion condition
data1 <- data.frame(data1) #making it into a data frame
data1$ratID <- factor(data1$ratID) #making rat number a factor
firstAttempts <- aggregate(data1$firstAttempt, by=list(data1$session), FUN='mean')
SDs<-aggregate(data1$firstAttempt, by=list(data1$session), FUN='sd')
totalAttempts<- aggregate(data1$meanAttempts, by=list(data1$session), FUN='mean')
total_SDs <- aggregate(data1$meanAttempts, by=list(data1$session), FUN='sd')
data2<-as.data.frame(firstAttempts)
colnames(data2)[1] <- "session"
colnames(data2)[2] <- "firstAttempts"
data2$firstAttempts_SD <- SDs$x
data2$totalAttempts <- totalAttempts$x
data2$totalAttempts_sD <- total_SDs$x
write.csv(data1, file="Group_Attempt_Data.csv")
write.csv(data2, file="Mean_first_Attempts.csv")
data3 <- subset(data1, ratID != list(105,109))
aggregate(data3$firstAttempt, by=list(data3$session),FUN='mean')
